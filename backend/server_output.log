INFO:     Will watch for changes in these directories: ['/Users/aaaisan/forum/backend']
INFO:     Uvicorn running on http://0.0.0.0:8083 (Press CTRL+C to quit)
INFO:     Started reloader process [36453] using StatReload
/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/pydantic/_migration.py:283: UserWarning: `pydantic.generics:GenericModel` has been moved to `pydantic.BaseModel`.
  warnings.warn(f'`{import_path}` has been moved to `{new_location}`.')
INFO:     Started server process [36456]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
2025-03-13 21:05:40,492 - app.core.middleware - ERROR - 未处理的异常
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 121, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'comments'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': []}

{"timestamp": "2025-03-13T21:05:40.492115", "level": "ERROR", "logger": "app.core.middleware", "message": "未处理的异常", "module": "logging", "function": "_log", "line": 188, "exception": {"type": "ResponseValidationError", "message": "1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response', 'comments'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': []}\n", "traceback": "Traceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 121, in dispatch\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 327, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 176, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response', 'comments'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': []}\n"}}
2025-03-13 21:05:40,497 - request - ERROR - Request failed
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误
{"timestamp": "2025-03-13T21:05:40.497263", "level": "ERROR", "logger": "request", "message": "Request failed", "module": "logging", "function": "_log", "line": 188, "exception": {"type": "APIError", "message": "500: 服务器内部错误", "traceback": "Traceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/app/middlewares/logging.py\", line 19, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 127, in dispatch\n    raise APIError(\napp.core.exceptions.APIError: 500: 服务器内部错误"}}
2025-03-13 21:05:40,501 - app.middlewares.error_handler - ERROR - 未预期的异常: 500: 服务器内部错误
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 181, in __call__
    raise app_exc
  File "/Users/aaaisan/forum/backend/app/middlewares/error_handler.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 67, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误

{"timestamp": "2025-03-13T21:05:40.501442", "level": "ERROR", "logger": "app.middlewares.error_handler", "message": "未预期的异常: 500: 服务器内部错误\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 181, in __call__\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/app/middlewares/error_handler.py\", line 45, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py\", line 36, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 67, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/middlewares/logging.py\", line 19, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 127, in dispatch\n    raise APIError(\napp.core.exceptions.APIError: 500: 服务器内部错误\n", "module": "logging", "function": "_log", "line": 188}
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 181, in __call__
    raise app_exc
  File "/Users/aaaisan/forum/backend/app/middlewares/error_handler.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 67, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误
WARNING:  StatReload detected changes in 'app/db/repositories/post_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [36456]
/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/pydantic/_migration.py:283: UserWarning: `pydantic.generics:GenericModel` has been moved to `pydantic.BaseModel`.
  warnings.warn(f'`{import_path}` has been moved to `{new_location}`.')
INFO:     Started server process [37744]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/db/repositories/post_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37744]
/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/pydantic/_migration.py:283: UserWarning: `pydantic.generics:GenericModel` has been moved to `pydantic.BaseModel`.
  warnings.warn(f'`{import_path}` has been moved to `{new_location}`.')
INFO:     Started server process [37817]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/db/repositories/post_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37817]
/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/pydantic/_migration.py:283: UserWarning: `pydantic.generics:GenericModel` has been moved to `pydantic.BaseModel`.
  warnings.warn(f'`{import_path}` has been moved to `{new_location}`.')
INFO:     Started server process [37917]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
2025-03-13 21:15:05,793 - app.core.middleware - ERROR - 未处理的异常
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 121, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'comments'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': []}

{"timestamp": "2025-03-13T21:15:05.793311", "level": "ERROR", "logger": "app.core.middleware", "message": "未处理的异常", "module": "logging", "function": "_log", "line": 188, "exception": {"type": "ResponseValidationError", "message": "1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response', 'comments'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': []}\n", "traceback": "Traceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 121, in dispatch\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 327, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 176, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response', 'comments'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': []}\n"}}
2025-03-13 21:15:05,798 - request - ERROR - Request failed
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误
{"timestamp": "2025-03-13T21:15:05.798325", "level": "ERROR", "logger": "request", "message": "Request failed", "module": "logging", "function": "_log", "line": 188, "exception": {"type": "APIError", "message": "500: 服务器内部错误", "traceback": "Traceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/app/middlewares/logging.py\", line 19, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 127, in dispatch\n    raise APIError(\napp.core.exceptions.APIError: 500: 服务器内部错误"}}
2025-03-13 21:15:05,802 - app.middlewares.error_handler - ERROR - 未预期的异常: 500: 服务器内部错误
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 181, in __call__
    raise app_exc
  File "/Users/aaaisan/forum/backend/app/middlewares/error_handler.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 67, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误

{"timestamp": "2025-03-13T21:15:05.802840", "level": "ERROR", "logger": "app.middlewares.error_handler", "message": "未预期的异常: 500: 服务器内部错误\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 181, in __call__\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/app/middlewares/error_handler.py\", line 45, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py\", line 36, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 67, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/middlewares/logging.py\", line 19, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 127, in dispatch\n    raise APIError(\napp.core.exceptions.APIError: 500: 服务器内部错误\n", "module": "logging", "function": "_log", "line": 188}
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 181, in __call__
    raise app_exc
  File "/Users/aaaisan/forum/backend/app/middlewares/error_handler.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 67, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误
2025-03-13 21:16:37,839 - app.core.middleware - ERROR - 未处理的异常
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 121, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 92 validation errors:
  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}
  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}
  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}

{"timestamp": "2025-03-13T21:16:37.839101", "level": "ERROR", "logger": "app.core.middleware", "message": "未处理的异常", "module": "logging", "function": "_log", "line": 188, "exception": {"type": "ResponseValidationError", "message": "92 validation errors:\n  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n", "traceback": "Traceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 121, in dispatch\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 327, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 176, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 92 validation errors:\n  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n"}}
2025-03-13 21:16:37,841 - request - ERROR - Request failed
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误
{"timestamp": "2025-03-13T21:16:37.841786", "level": "ERROR", "logger": "request", "message": "Request failed", "module": "logging", "function": "_log", "line": 188, "exception": {"type": "APIError", "message": "500: 服务器内部错误", "traceback": "Traceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/app/middlewares/logging.py\", line 19, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 127, in dispatch\n    raise APIError(\napp.core.exceptions.APIError: 500: 服务器内部错误"}}
2025-03-13 21:16:37,844 - app.middlewares.error_handler - ERROR - 未预期的异常: 500: 服务器内部错误
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 181, in __call__
    raise app_exc
  File "/Users/aaaisan/forum/backend/app/middlewares/error_handler.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 67, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误

{"timestamp": "2025-03-13T21:16:37.844247", "level": "ERROR", "logger": "app.middlewares.error_handler", "message": "未预期的异常: 500: 服务器内部错误\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 181, in __call__\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/app/middlewares/error_handler.py\", line 45, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py\", line 36, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 67, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/middlewares/logging.py\", line 19, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 127, in dispatch\n    raise APIError(\napp.core.exceptions.APIError: 500: 服务器内部错误\n", "module": "logging", "function": "_log", "line": 188}
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 181, in __call__
    raise app_exc
  File "/Users/aaaisan/forum/backend/app/middlewares/error_handler.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 67, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误
2025-03-13 21:16:57,949 - app.core.middleware - ERROR - 未处理的异常
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 121, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 92 validation errors:
  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}
  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}
  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}
  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}

{"timestamp": "2025-03-13T21:16:57.949079", "level": "ERROR", "logger": "app.core.middleware", "message": "未处理的异常", "module": "logging", "function": "_log", "line": 188, "exception": {"type": "ResponseValidationError", "message": "92 validation errors:\n  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n", "traceback": "Traceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 121, in dispatch\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 327, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 176, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 92 validation errors:\n  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 0, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 16, 'name': '测试版块'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 1, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 2, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 3, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 4, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 5, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 6, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 7, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 8, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 9, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 10, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 11, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 12, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 13, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 14, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 15, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 16, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 17, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 18, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 19, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 20, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 21, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 22, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 23, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 24, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 25, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 26, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 27, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 28, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 29, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 30, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 31, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 32, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 33, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 34, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 35, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 36, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 37, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 38, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 39, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 40, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 41, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 42, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 43, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 13, 'name': '交流区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 44, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'description'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n  {'type': 'missing', 'loc': ('response', 'posts', 45, 'section', 'created_at'), 'msg': 'Field required', 'input': {'id': 12, 'name': '技术区'}}\n"}}
2025-03-13 21:16:57,951 - request - ERROR - Request failed
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误
{"timestamp": "2025-03-13T21:16:57.951201", "level": "ERROR", "logger": "request", "message": "Request failed", "module": "logging", "function": "_log", "line": 188, "exception": {"type": "APIError", "message": "500: 服务器内部错误", "traceback": "Traceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/app/middlewares/logging.py\", line 19, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 127, in dispatch\n    raise APIError(\napp.core.exceptions.APIError: 500: 服务器内部错误"}}
2025-03-13 21:16:57,953 - app.middlewares.error_handler - ERROR - 未预期的异常: 500: 服务器内部错误
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 181, in __call__
    raise app_exc
  File "/Users/aaaisan/forum/backend/app/middlewares/error_handler.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 67, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误

{"timestamp": "2025-03-13T21:16:57.953881", "level": "ERROR", "logger": "app.middlewares.error_handler", "message": "未预期的异常: 500: 服务器内部错误\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 111, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 106, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 124, in receive\n    return receiver.item\n           ^^^^^^^^^^^^^\nAttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 147, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py\", line 126, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 181, in __call__\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/app/middlewares/error_handler.py\", line 45, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py\", line 36, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 67, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/middlewares/logging.py\", line 19, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 153, in call_next\n    raise app_exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 173, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 175, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/aaaisan/forum/backend/app/core/middleware.py\", line 127, in dispatch\n    raise APIError(\napp.core.exceptions.APIError: 500: 服务器内部错误\n", "module": "logging", "function": "_log", "line": 188}
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 181, in __call__
    raise app_exc
  File "/Users/aaaisan/forum/backend/app/middlewares/error_handler.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 29, in __call__
    await responder(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/trustedhost.py", line 36, in __call__
    await self.app(scope, receive, send)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 67, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/middlewares/logging.py", line 19, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aaaisan/forum/backend/app/core/middleware.py", line 127, in dispatch
    raise APIError(
app.core.exceptions.APIError: 500: 服务器内部错误
WARNING:  StatReload detected changes in 'app/api/endpoints/posts.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37917]
/Users/aaaisan/forum/backend/.venv/lib/python3.12/site-packages/pydantic/_migration.py:283: UserWarning: `pydantic.generics:GenericModel` has been moved to `pydantic.BaseModel`.
  warnings.warn(f'`{import_path}` has been moved to `{new_location}`.')
INFO:     Started server process [38858]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [38858]
INFO:     Stopping reloader process [36453]
